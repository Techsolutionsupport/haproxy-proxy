global
    log stdout format raw local0

defaults
    log global
    mode tcp
    option dontlognull
    timeout connect 10s
    timeout client 1m
    timeout server 1m

# ✅ Frontend for HTTPS healthcheck (port 443)
frontend healthcheck
    bind *:443 ssl crt /etc/ssl/render.pem
    mode http
    default_backend healthcheck-backend

backend healthcheck-backend
    mode http
    http-request return status 200 content-type "text/plain" string "OK"

# ✅ Frontend for OpenVPN passthrough (port 8443)
frontend vpn-in
    bind *:8443
    mode tcp
    default_backend oracle-backend

backend oracle-backend
    mode tcp
    server oracle 144.24.42.28:443
