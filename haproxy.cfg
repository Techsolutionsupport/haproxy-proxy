global
    log stdout format raw local0
    tune.bufsize 32768

defaults
    log global
    mode tcp
    option dontlognull
    timeout connect 10s
    timeout client 1h
    timeout server 1h

# Health-check для Render
frontend health
    bind *:8080
    mode http
    http-request return status 200 content-type "text/plain" string "OK"
    default_backend health-backend

backend health-backend
    mode http
    http-request return status 200 content-type "text/plain" string "OK"

# OpenVPN TCP passthrough (порт 8443)
frontend vpn-in
    bind *:8443
    mode tcp
    default_backend oracle-backend

backend oracle-backend
    mode tcp
    server oracle edge.techsolution.support:443
